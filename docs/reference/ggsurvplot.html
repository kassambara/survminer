<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Drawing Survival Curves Using ggplot2 — ggsurvplot • survminer</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Drawing Survival Curves Using ggplot2 — ggsurvplot" />
<meta property="og:description" content="ggsurvplot() is a generic function to plot survival curves. Wrapper
 around the ggsurvplot_xx() family functions. Plot one or a list of
 survfit objects as generated by the
 survfit.formula() and surv_fit functions:
ggsurvplot_list()
ggsurvplot_facet()
ggsurvplot_group_by()
ggsurvplot_add_all()
ggsurvplot_combine()
See the documentation for each function to
 learn how to control that aspect of the ggsurvplot().
 ggsurvplot() accepts further arguments to be passed to the
 ggsurvplot_xx() functions. Has options to:
plot a list of survfit objects,
facet survival curves into multiple
 panels,
group  dataset by one or two grouping variables and to create
 the survival curves in each subset,
combine multiple survfit
 objects into one plot,
add survival curves of the pooled patients
 (null model) onto the main stratified plot,
plot survival curves from
 a data frame containing survival curve summary as returned by
 surv_summary().

" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">survminer</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../survminer_cheatsheet.pdf">Cheatseet</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/kassambara/survminer">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Drawing Survival Curves Using ggplot2</h1>
    <small class="dont-index">Source: <a href='https://github.com/kassambara/survminer/blob/master/R/ggsurvplot.R'><code>R/ggsurvplot.R</code></a></small>
    <div class="hidden name"><code>ggsurvplot.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>ggsurvplot</code>() is a generic function to plot survival curves. Wrapper
 around the <code>ggsurvplot_xx()</code> family functions. Plot one or a list of
 survfit objects as generated by the
 <a href='https://rdrr.io/pkg/survival/man/survfit.formula.html'>survfit.formula</a>() and <a href='surv_fit.html'>surv_fit</a> functions:</p><ul>
<li><p><a href='ggsurvplot_list.html'>ggsurvplot_list</a>()</p></li>
<li><p><a href='ggsurvplot_facet.html'>ggsurvplot_facet</a>()</p></li>
<li><p><a href='ggsurvplot_group_by.html'>ggsurvplot_group_by</a>()</p></li>
<li><p><a href='ggsurvplot_add_all.html'>ggsurvplot_add_all</a>()</p></li>
<li><p><a href='ggsurvplot_combine.html'>ggsurvplot_combine</a>()</p></li>
</ul><p>See the documentation for each function to
 learn how to control that aspect of the ggsurvplot().
 <code>ggsurvplot</code>() accepts further arguments to be passed to the
 <code>ggsurvplot_xx()</code> functions. Has options to:</p><ul>
<li><p>plot a list of survfit objects,</p></li>
<li><p>facet survival curves into multiple
 panels,</p></li>
<li><p>group  dataset by one or two grouping variables and to create
 the survival curves in each subset,</p></li>
<li><p>combine multiple <code>survfit</code>
 objects into one plot,</p></li>
<li><p>add survival curves of the pooled patients
 (null model) onto the main stratified plot,</p></li>
<li><p>plot survival curves from
 a data frame containing survival curve summary as returned by
 <a href='surv_summary.html'>surv_summary</a>().</p></li>
</ul>

    </div>

    <pre class="usage"><span class='fu'>ggsurvplot</span>(
  <span class='no'>fit</span>,
  <span class='kw'>data</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>fun</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>color</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>palette</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>linetype</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>conf.int</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>pval</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>pval.method</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>test.for.trend</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>surv.median.line</span> <span class='kw'>=</span> <span class='st'>"none"</span>,
  <span class='kw'>risk.table</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>cumevents</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>cumcensor</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>tables.height</span> <span class='kw'>=</span> <span class='fl'>0.25</span>,
  <span class='kw'>group.by</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>facet.by</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>add.all</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>combine</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>ggtheme</span> <span class='kw'>=</span> <span class='fu'><a href='ggsurvtheme.html'>theme_survminer</a></span>(),
  <span class='kw'>tables.theme</span> <span class='kw'>=</span> <span class='no'>ggtheme</span>,
  <span class='no'>...</span>
)

<span class='co'># S3 method for ggsurvplot</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span>(
  <span class='no'>x</span>,
  <span class='kw'>surv.plot.height</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>risk.table.height</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>ncensor.plot.height</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>newpage</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='no'>...</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>fit</th>
      <td><p>allowed values include:</p><ul>
<li><p>a survfit object</p></li>
<li><p>a list of survfit objects. Passed to <code><a href='ggsurvplot_list.html'>ggsurvplot_list</a>()</code></p></li>
<li><p>a data frame containing survival curves summary. Passed to <code><a href='ggsurvplot_df.html'>ggsurvplot_df</a>()</code>.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>a dataset used to fit survival curves. If not supplied then data
will be extracted from 'fit' object.</p></td>
    </tr>
    <tr>
      <th>fun</th>
      <td><p>an arbitrary function defining a transformation of the survival
curve.  Often used transformations can be specified with a character
argument: "event" plots cumulative events (f(y) = 1-y), "cumhaz" plots the
cumulative hazard function (f(y) = -log(y)), and "pct" for survival
probability in percentage.</p></td>
    </tr>
    <tr>
      <th>color</th>
      <td><p>color to be used for the survival curves.</p><ul>
<li><p>If the
number of strata/group (n.strata) = 1, the expected value is the color name.
For example color = "blue".</p></li>
<li><p>If n.strata &gt; 1, the expected value is the
grouping variable name. By default, survival curves are colored by strata
using the argument color = "strata",  but you can also color survival curves
by any other grouping variables used to fit the survival curves. In this
case, it's possible to specify a custom color palette by using the argument
palette.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>palette</th>
      <td><p>the color palette to be used. Allowed values include "hue" for
the default hue color scale; "grey" for grey color palettes; brewer palettes
e.g. "RdBu", "Blues", ...; or custom color palette e.g. c("blue", "red"); and scientific journal palettes from ggsci R package, e.g.: "npg",
 "aaas", "lancet", "jco", "ucscgb", "uchicago", "simpsons" and
 "rickandmorty".
See details section for more information.  Can be also a numeric vector of
length(groups); in this case a basic color palette is created using the
function <a href='https://rdrr.io/r/grDevices/palette.html'>palette</a>.</p></td>
    </tr>
    <tr>
      <th>linetype</th>
      <td><p>line types. Allowed values includes i) "strata" for changing
linetypes by strata (i.e. groups); ii) a numeric vector (e.g., c(1, 2)) or a
character vector c("solid", "dashed").</p></td>
    </tr>
    <tr>
      <th>conf.int</th>
      <td><p>logical value. If TRUE, plots confidence interval.</p></td>
    </tr>
    <tr>
      <th>pval</th>
      <td><p>logical value, a numeric or a string. If logical and TRUE, the
p-value is added on the plot. If numeric, than the computet p-value is
substituted with the one passed with this parameter. If character, then the
customized string appears on the plot. See examples - Example 3.</p></td>
    </tr>
    <tr>
      <th>pval.method</th>
      <td><p>whether to add a text with the test name used for
calculating the pvalue, that corresponds to survival curves' comparison -
used only when <code>pval=TRUE</code></p></td>
    </tr>
    <tr>
      <th>test.for.trend</th>
      <td><p>logical value. Default is FALSE. If TRUE, returns the
test for trend p-values. Tests for trend are designed to detect ordered
differences in survival curves. That is, for at least one group. The test
for trend can be only performed when the number of groups is &gt; 2.</p></td>
    </tr>
    <tr>
      <th>surv.median.line</th>
      <td><p>character vector for drawing a horizontal/vertical
line at median survival. Allowed values include one of c("none", "hv", "h",
"v"). v: vertical, h:horizontal.</p></td>
    </tr>
    <tr>
      <th>risk.table</th>
      <td><p>Allowed values include:</p><ul>
<li><p>TRUE or FALSE
specifying whether to show or not the risk table. Default is FALSE.</p></li>
<li><p>"absolute" or "percentage". Shows the <b>absolute number</b> and the
<b>percentage</b> of subjects at risk by time, respectively.</p></li>
<li><p>"abs_pct"
to show both absolute number and percentage.</p></li>
<li><p>"nrisk_cumcensor" and
"nrisk_cumevents". Show the number at risk and, the cumulative number of
censoring and events, respectively.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>cumevents</th>
      <td><p>logical value specifying whether to show or not the table of
the cumulative number of events. Default is FALSE.</p></td>
    </tr>
    <tr>
      <th>cumcensor</th>
      <td><p>logical value specifying whether to show or not the table of
the cumulative number of censoring. Default is FALSE.</p></td>
    </tr>
    <tr>
      <th>tables.height</th>
      <td><p>numeric value (in [0 - 1]) specifying the general height
of all tables under the main survival plot.</p></td>
    </tr>
    <tr>
      <th>group.by</th>
      <td><p>a character vector containing the name of grouping variables. Should be of length &lt;= 2.
Alias of the <code><a href='ggsurvplot_group_by.html'>ggsurvplot_group_by</a>()</code> function.</p></td>
    </tr>
    <tr>
      <th>facet.by</th>
      <td><p>a character vector containing the name of grouping variables
to facet the survival curves into multiple panels. Should be of length &lt;= 2.
Alias of the <code><a href='ggsurvplot_facet.html'>ggsurvplot_facet</a>()</code> function.</p></td>
    </tr>
    <tr>
      <th>add.all</th>
      <td><p>a logical value. If TRUE, add the survival curve of pooled patients (null model) onto the main plot.
Alias of the <code><a href='ggsurvplot_add_all.html'>ggsurvplot_add_all</a>()</code> function.</p></td>
    </tr>
    <tr>
      <th>combine</th>
      <td><p>a logical value. If TRUE, combine a list survfit objects on the same plot.
Alias of the <code><a href='ggsurvplot_combine.html'>ggsurvplot_combine</a>()</code> function.</p></td>
    </tr>
    <tr>
      <th>ggtheme</th>
      <td><p>function, ggplot2 theme name. Default value is
<a href='ggsurvtheme.html'>theme_survminer</a>. Allowed values include ggplot2 official themes: see
<code><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></code>.</p></td>
    </tr>
    <tr>
      <th>tables.theme</th>
      <td><p>function, ggplot2 theme name. Default value is
<a href='ggsurvtheme.html'>theme_survminer</a>. Allowed values include ggplot2 official themes: see
<code><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></code>. Note that, <code>tables.theme</code> is incremental to <code>ggtheme</code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Futher arguments as described hereafter and
other arguments to be passed i) to ggplot2 geom_*() functions such
 as linetype, size, ii) or to the function <a href='https://rdrr.io/pkg/ggpubr/man/ggpar.html'>ggpar</a>() for
 customizing the plots. See details section.</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>an object of class ggsurvplot</p></td>
    </tr>
    <tr>
      <th>surv.plot.height</th>
      <td><p>the height of the survival plot on the grid. Default
is 0.75. Ignored when risk.table = FALSE.</p></td>
    </tr>
    <tr>
      <th>risk.table.height</th>
      <td><p>the height of the risk table on the grid. Increase
the value when you have many strata. Default is 0.25. Ignored when
risk.table = FALSE.</p></td>
    </tr>
    <tr>
      <th>ncensor.plot.height</th>
      <td><p>The height of the censor plot. Used when
<code>ncensor.plot = TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>newpage</th>
      <td><p>open a new page. See <code>grid.arrange</code></p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>return an object of class ggsurvplot which is list containing the
 following components:</p><ul>
<li><p>plot: the survival plot (ggplot
 object)</p></li>
<li><p>table: the number of subjects at risk table per time (ggplot
 object).</p></li>
<li><p>cumevents: the cumulative number of events table (ggplot
 object).</p></li>
<li><p>ncensor.plot: the number of censoring (ggplot object).</p></li>
<li><p>data.survplot: the data used to plot the survival curves (data.frame).</p></li>
<li><p>data.survtable: the data used to plot the tables under the main survival
 curves (data.frame).</p></li>
</ul>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    
<ul>
<li><p><strong>Color palettes</strong>: The argument <strong>palette</strong> can be used to
 specify the color to be used for each group. By default, the first color in
 the palette is used to color the first level of the factor variable. This
 default behavior can be changed by assigning correctly a named vector. That
 is, the names of colors should match the strata names as generated by the
 <code>ggsurvplot()</code> function in the legend.</p></li>
</ul>

    <h2 class="hasAnchor" id="further-arguments"><a class="anchor" href="#further-arguments"></a>FURTHER ARGUMENTS</h2>

    

<p>Customize survival plots and tables. See also <a href='ggsurvplot_arguments.html'>ggsurvplot_arguments</a>.</p>
    <h2 class="hasAnchor" id="plot-title-and-axis-labels"><a class="anchor" href="#plot-title-and-axis-labels"></a>Plot title and axis labels</h2>

    

<ul>
<li><p><strong>title</strong>: main title.</p></li>
<li><p><strong>xlab, ylab</strong>: x and y axis labels, respectively.</p></li>
</ul>

    <h2 class="hasAnchor" id="legend-title-labels-and-position"><a class="anchor" href="#legend-title-labels-and-position"></a>Legend title, labels and position</h2>

    

<ul>
<li><p><strong>legend</strong>: character specifying legend position. Allowed values are one of
 c("top", "bottom", "left", "right", "none"). Default is "top" side position.
 to remove the legend use legend = "none". Legend position can be also
 specified using a numeric vector c(x, y). In this case it is
 possible to position the legend inside the plotting area. x and y are the
 coordinates of the legend box. Their values should be between 0 and 1.
 c(0,0) corresponds to the "bottom left" and c(1,1) corresponds to the "top
 right" position. For instance use legend = c(0.8, 0.2).</p></li>
<li><p><strong>legend.title</strong>: legend title.</p></li>
<li><p><strong>legend.labs</strong>: character vector specifying legend labels. Used to replace
 the names of the strata from the fit. Should be given in the same order as
 those strata.</p></li>
</ul>

    <h2 class="hasAnchor" id="axis-limits-breaks-and-scales"><a class="anchor" href="#axis-limits-breaks-and-scales"></a>Axis limits, breaks and scales</h2>

    

<ul>
<li><p><strong>break.time.by</strong>: numeric value controlling time axis breaks. Default value
 is NULL.</p></li>
<li><p><strong>break.x.by</strong>: alias of break.time.by. Numeric value controlling x axis
 breaks. Default value is NULL.</p></li>
<li><p><strong>break.y.by</strong>: same as break.x.by but for y axis.</p></li>
<li><p><strong>surv.scale</strong>: scale transformation of survival curves. Allowed values are
 "default" or "percent".</p></li>
<li><p><strong>xscale</strong>: numeric or character value specifying x-axis scale.</p><ul>
<li><p>If numeric, the value is used to divide the labels on the x axis. For
 example, a value of 365.25 will give labels in years instead of the original
 days.</p></li>
<li><p>If character, allowed options include one of - "d_m", "d_y",
 "m_d", "m_y", "y_d" and "y_m" -  where <code>d = days</code>, <code>m = months</code> and <code>y = years</code>. For
 example, <code>xscale = "d_m"</code> will transform labels from days to months; <code>xscale =
 "m_y"</code>, will transform labels from months to years.</p></li>
</ul></li>
<li><p><strong>xlim,ylim</strong>: x and y axis limits e.g. xlim = c(0, 1000), ylim = c(0, 1).</p></li>
<li><p><strong>axes.offset</strong>: logical value. Default is TRUE. If FALSE, set the plot axes to start at the origin.</p></li>
</ul>

    <h2 class="hasAnchor" id="confidence-interval"><a class="anchor" href="#confidence-interval"></a>Confidence interval</h2>

    

<ul>
<li><p><strong>conf.int.fill</strong>: fill color to be used for confidence interval.</p></li>
<li><p><strong>conf.int.style</strong>: confidence interval style. Allowed values include c("ribbon", "step").</p></li>
<li><p><strong>conf.int.alpha</strong>: numeric value specifying confidence fill color transparency.
 Value should be in [0, 1], where 0 is full transparency and 1 is no transparency.</p></li>
</ul>

    <h2 class="hasAnchor" id="p-value"><a class="anchor" href="#p-value"></a>P-value</h2>

    

<ul>
<li><p><strong>pval.size</strong>: numeric value specifying the p-value text size. Default is 5.</p></li>
<li><p><strong>pval.coord</strong>: numeric vector, of length 2,
 specifying the x and y coordinates of the p-value.
 Default values are NULL.</p></li>
<li><p><strong>pval.method.size</strong>: the same as <code>pval.size</code> but for displaying
 <code>log.rank.weights</code> name.</p></li>
<li><p><strong>pval.method.coord</strong>: the same as <code>pval.coord</code> but for displaying
 <code>log.rank.weights</code> name.</p></li>
<li><p><strong>log.rank.weights</strong>: the name for the type of weights to be used in
 computing the p-value for log-rank test. By default <code>survdiff</code> is used
 to calculate regular log-rank test (with weights == 1). A user can specify
 <code>"1", "n", "sqrtN", "S1", "S2", "FH"</code> to use weights specified in
 <a href='https://rdrr.io/pkg/survMisc/man/comp.html'>comp</a>, so that weight correspond to the test as : 1 -
 log-rank, n - Gehan-Breslow (generalized Wilcoxon), sqrtN - Tarone-Ware, S1
 - Peto-Peto's modified survival estimate, S2 - modified Peto-Peto (by
 Andersen), FH - Fleming-Harrington(p=1, q=1).</p></li>
</ul>

    <h2 class="hasAnchor" id="median-survival"><a class="anchor" href="#median-survival"></a>Median survival</h2>

    

<ul>
<li><p><strong>surv.median.line</strong>: character vector for drawing a
 horizontal/vertical line at median survival.
 Allowed values include one of c("none", "hv", "h", "v"). v: vertical, h:horizontal.</p></li>
</ul>

    <h2 class="hasAnchor" id="censor-points"><a class="anchor" href="#censor-points"></a>Censor points</h2>

    

<ul>
<li><p><strong>censor</strong>: logical value. If TRUE (default), censors will be drawn.</p></li>
<li><p><strong>censor.shape</strong>: character or numeric value specifying the point shape of censors.
 Default value is "+" (3), a sensible choice is "|" (124).</p></li>
<li><p><strong>censor.size</strong>: numveric value specifying the point size of censors. Default is 4.5.</p></li>
</ul>

    <h2 class="hasAnchor" id="survival-tables"><a class="anchor" href="#survival-tables"></a>Survival tables</h2>

    


<p><strong>General parameters for all tables</strong>.
 The arguments below, when specified, will be applied to all survival tables at once
 (risk, cumulative events and cumulative censoring tables).</p><ul>
<li><p><strong>tables.col</strong>: color to be used for all tables under the main plot. Default
 value is "black". If you want to color by strata (i.e. groups), use
 tables.col = "strata".</p></li>
<li><p><strong>fontsize</strong>: font size to be used for the risk table
 and the cumulative events table.</p></li>
<li><p><strong>font.family</strong>: character vector specifying text element font family,
 e.g.: font.family = "Courier New".</p></li>
<li><p><strong>tables.y.text</strong>: logical. Default is TRUE. If FALSE, the y axis tick
 labels of tables will be hidden.</p></li>
<li><p><strong>tables.y.text.col</strong>: logical. Default value is FALSE. If TRUE, the y
 tick labels of tables will be colored by strata.</p></li>
<li><p><strong>tables.height</strong>: numeric value (in [0 - 1]) specifying the general height
 of all tables under the main survival plot.
 Increase the value when you have many strata. Default is 0.25.</p></li>
</ul>

<p><strong>Specific to the risk table</strong></p><ul>
<li><p><strong>risk.table.title</strong>: the title to be used for the risk table.</p></li>
<li><p><strong>risk.table.pos</strong>: character vector specifying the risk table position.
 Allowed options are one of c("out", "in") indicating 'outside' or 'inside'
 the main plot, respectively. Default value is "out".</p></li>
<li><p><code>risk.table.col</code>, <code>risk.table.fontsize</code>, <code>risk.table.y.text</code>,
 <code>risk.table.y.text.col</code> and <code>risk.table.height</code>: same as for the general parameters
 but applied to the risk table only.</p></li>
</ul>

<p><strong>Specific to the number of cumulative events table (cumevents)</strong></p><ul>
<li><p><strong>cumevents.title</strong>: the title to be used for the cumulative events table.</p></li>
<li><p><code>cumevents.col, cumevents.y.text, cumevents.y.text, cumevents.height</code>:
 same as for the general parameters but for the cumevents table only.</p></li>
</ul>

<p><strong>Specific to the number of cumulative censoring table (cumcensor)</strong></p><ul>
<li><p><strong>cumcensor.title</strong>: the title to be used for the cumcensor table.</p></li>
<li><p><code>cumcensor.col</code>, <code>cumcensor.y.text</code>, <code>cumcensor.y.text.col</code>, <code>cumcensor.height</code>:
  same as for the general parameters but for cumcensor table only.</p></li>
</ul>

    <h2 class="hasAnchor" id="survival-plot-height"><a class="anchor" href="#survival-plot-height"></a>Survival plot height</h2>

    

<ul>
<li><p><strong>surv.plot.height</strong>: the height of the survival plot on the grid. Default
 is 0.75. Ignored when risk.table = FALSE.</p></li>
</ul>

    <h2 class="hasAnchor" id="number-of-censored-subjects-barplot"><a class="anchor" href="#number-of-censored-subjects-barplot"></a>Number of censored subjects barplot</h2>

    

<ul>
<li><p><strong>ncensor.plot</strong>: logical value. If TRUE, the number of censored subjects at
 time t is plotted. Default is FALSE. Ignored when cumcensor = TRUE.</p></li>
<li><p><strong>ncensor.plot.title</strong>: the title to be used for the censor plot. Used when
 <code>ncensor.plot = TRUE</code>.</p></li>
<li><p><strong>ncensor.plot.height</strong>: the height of the censor plot. Used when
 <code>ncensor.plot = TRUE</code>.</p></li>
</ul>

    <h2 class="hasAnchor" id="other-graphical-parameters"><a class="anchor" href="#other-graphical-parameters"></a>Other graphical parameters</h2>

    

<p>The plot can be easily customized using additional arguments to be
 passed to the function <code><a href='https://rdrr.io/pkg/ggpubr/man/ggpar.html'>ggpar</a>()</code>.</p>
<p>These arguments include
 <code>font.title, font.subtitle, font.caption, font.x, font.y, font.tickslab and font.legend</code>,
 which are vectors of length 3 indicating respectively the size
 (e.g.: 14), the style (e.g.: "plain", "bold", "italic", "bold.italic") and
 the color (e.g.: "red") of main title, subtitle, caption, xlab and ylab,
 axis tick labels and legend, respectively. For example font.x = c(14,
 "bold", "red").</p>
<p>Use font.x = 14, to change only font size; or use font.x =
 "bold", to change only font face.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'>#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
<span class='co'># Example 1: Survival curves with two groups</span>
<span class='co'>#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>

<span class='co'># Fit survival curves</span>
<span class='co'>#++++++++++++++++++++++++++++++++++++</span>
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>require</a></span>(<span class='st'>"survival"</span>)
<span class='no'>fit</span><span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/survival/man/survfit.html'>survfit</a></span>(<span class='fu'><a href='https://rdrr.io/pkg/survival/man/Surv.html'>Surv</a></span>(<span class='no'>time</span>, <span class='no'>status</span>) ~ <span class='no'>sex</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>lung</span>)

<span class='co'># Basic survival curves</span>
<span class='fu'>ggsurvplot</span>(<span class='no'>fit</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>lung</span>)</div><div class='img'><img src='ggsurvplot-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># Customized survival curves</span>
<span class='fu'>ggsurvplot</span>(<span class='no'>fit</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>lung</span>,
 <span class='kw'>surv.median.line</span> <span class='kw'>=</span> <span class='st'>"hv"</span>, <span class='co'># Add medians survival</span>

 <span class='co'># Change legends: title &amp; labels</span>
 <span class='kw'>legend.title</span> <span class='kw'>=</span> <span class='st'>"Sex"</span>,
 <span class='kw'>legend.labs</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"Male"</span>, <span class='st'>"Female"</span>),
 <span class='co'># Add p-value and tervals</span>
 <span class='kw'>pval</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,

 <span class='kw'>conf.int</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
 <span class='co'># Add risk table</span>
 <span class='kw'>risk.table</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
 <span class='kw'>tables.height</span> <span class='kw'>=</span> <span class='fl'>0.2</span>,
 <span class='kw'>tables.theme</span> <span class='kw'>=</span> <span class='fu'><a href='ggsurvtheme.html'>theme_cleantable</a></span>(),

 <span class='co'># Color palettes. Use custom color: c("#E7B800", "#2E9FDF"),</span>
 <span class='co'># or brewer color (e.g.: "Dark2"), or ggsci color (e.g.: "jco")</span>
 <span class='kw'>palette</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"#E7B800"</span>, <span class='st'>"#2E9FDF"</span>),
 <span class='kw'>ggtheme</span> <span class='kw'>=</span> <span class='fu'>theme_bw</span>() <span class='co'># Change ggplot2 theme</span>
)</div><div class='img'><img src='ggsurvplot-2.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># Change font size, style and color</span>
<span class='co'>#++++++++++++++++++++++++++++++++++++</span>
<span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='co'># Change font size, style and color at the same time</span>
<span class='fu'>ggsurvplot</span>(<span class='no'>fit</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>lung</span>,  <span class='kw'>main</span> <span class='kw'>=</span> <span class='st'>"Survival curve"</span>,
   <span class='kw'>font.main</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>16</span>, <span class='st'>"bold"</span>, <span class='st'>"darkblue"</span>),
   <span class='kw'>font.x</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>14</span>, <span class='st'>"bold.italic"</span>, <span class='st'>"red"</span>),
   <span class='kw'>font.y</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>14</span>, <span class='st'>"bold.italic"</span>, <span class='st'>"darkred"</span>),
   <span class='kw'>font.tickslab</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>12</span>, <span class='st'>"plain"</span>, <span class='st'>"darkgreen"</span>))
}



<span class='co'>#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
<span class='co'># Example 2: Facet ggsurvplot() output by</span>
<span class='co'># a combination of factors</span>
<span class='co'>#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>

<span class='co'># Fit (complexe) survival curves</span>
<span class='co'>#++++++++++++++++++++++++++++++++++++</span>
<span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>require</a></span>(<span class='st'>"survival"</span>)
<span class='no'>fit3</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/survival/man/survfit.html'>survfit</a></span>( <span class='fu'><a href='https://rdrr.io/pkg/survival/man/Surv.html'>Surv</a></span>(<span class='no'>time</span>, <span class='no'>status</span>) ~ <span class='no'>sex</span> + <span class='no'>rx</span> + <span class='no'>adhere</span>,
                <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>colon</span> )

<span class='co'># Visualize</span>
<span class='co'>#++++++++++++++++++++++++++++++++++++</span>
<span class='no'>ggsurv</span> <span class='kw'>&lt;-</span> <span class='fu'>ggsurvplot</span>(<span class='no'>fit3</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>colon</span>,
  <span class='kw'>fun</span> <span class='kw'>=</span> <span class='st'>"cumhaz"</span>, <span class='kw'>conf.int</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>risk.table</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>risk.table.col</span><span class='kw'>=</span><span class='st'>"strata"</span>,
  <span class='kw'>ggtheme</span> <span class='kw'>=</span> <span class='fu'>theme_bw</span>())

<span class='co'># Faceting survival curves</span>
<span class='no'>curv_facet</span> <span class='kw'>&lt;-</span> <span class='no'>ggsurv</span>$<span class='no'>plot</span> + <span class='fu'>facet_grid</span>(<span class='no'>rx</span> ~ <span class='no'>adhere</span>)
<span class='no'>curv_facet</span>

<span class='co'># Faceting risk tables:</span>
<span class='co'># Generate risk table for each facet plot item</span>
<span class='no'>ggsurv</span>$<span class='no'>table</span> + <span class='fu'>facet_grid</span>(<span class='no'>rx</span> ~ <span class='no'>adhere</span>, <span class='kw'>scales</span> <span class='kw'>=</span> <span class='st'>"free"</span>)+
 <span class='fu'>theme</span>(<span class='kw'>legend.position</span> <span class='kw'>=</span> <span class='st'>"none"</span>)

 <span class='co'># Generate risk table for each facet columns</span>
<span class='no'>tbl_facet</span> <span class='kw'>&lt;-</span> <span class='no'>ggsurv</span>$<span class='no'>table</span> + <span class='fu'>facet_grid</span>(<span class='no'>.</span>~ <span class='no'>adhere</span>, <span class='kw'>scales</span> <span class='kw'>=</span> <span class='st'>"free"</span>)
<span class='no'>tbl_facet</span> + <span class='fu'>theme</span>(<span class='kw'>legend.position</span> <span class='kw'>=</span> <span class='st'>"none"</span>)

<span class='co'># Arrange faceted survival curves and risk tables</span>
<span class='no'>g2</span> <span class='kw'>&lt;-</span> <span class='fu'>ggplotGrob</span>(<span class='no'>curv_facet</span>)
<span class='no'>g3</span> <span class='kw'>&lt;-</span> <span class='fu'>ggplotGrob</span>(<span class='no'>tbl_facet</span>)
<span class='no'>min_ncol</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>min</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>ncol</a></span>(<span class='no'>g2</span>), <span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>ncol</a></span>(<span class='no'>g3</span>))
<span class='no'>g</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>gridExtra</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/pkg/gridExtra/man/bind.html'>gtable_rbind</a></span>(<span class='no'>g2</span>[, <span class='fl'>1</span>:<span class='no'>min_ncol</span>], <span class='no'>g3</span>[, <span class='fl'>1</span>:<span class='no'>min_ncol</span>], <span class='kw'>size</span><span class='kw'>=</span><span class='st'>"last"</span>)
<span class='no'>g</span>$<span class='no'>widths</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>grid</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/r/grid/unit.pmin.html'>unit.pmax</a></span>(<span class='no'>g2</span>$<span class='no'>widths</span>, <span class='no'>g3</span>$<span class='no'>widths</span>)
<span class='kw pkg'>grid</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/r/grid/grid.newpage.html'>grid.newpage</a></span>()
<span class='kw pkg'>grid</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/r/grid/grid.draw.html'>grid.draw</a></span>(<span class='no'>g</span>)

}

<span class='co'>#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
<span class='co'># Example 3: CUSTOMIZED PVALUE</span>
<span class='co'>#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
<span class='co'># Customized p-value</span>
<span class='fu'>ggsurvplot</span>(<span class='no'>fit</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>lung</span>, <span class='kw'>pval</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='img'><img src='ggsurvplot-3.png' alt='' width='700' height='433' /></div><div class='input'><span class='fu'>ggsurvplot</span>(<span class='no'>fit</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>lung</span>, <span class='kw'>pval</span> <span class='kw'>=</span> <span class='fl'>0.03</span>)</div><div class='img'><img src='ggsurvplot-4.png' alt='' width='700' height='433' /></div><div class='input'><span class='fu'>ggsurvplot</span>(<span class='no'>fit</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>lung</span>, <span class='kw'>pval</span> <span class='kw'>=</span> <span class='st'>"The hot p-value is: 0.031"</span>)</div><div class='img'><img src='ggsurvplot-5.png' alt='' width='700' height='433' /></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Alboukadel Kassambara, Marcin Kosinski, Przemyslaw Biecek.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


